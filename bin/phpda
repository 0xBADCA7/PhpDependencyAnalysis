#!/usr/bin/env php
<?php

set_time_limit(0);
ini_set('memory_limit', -1);
ini_set('xdebug.max_nesting_level', 2000);

$file = __DIR__ . '/../vendor/autoload.php';
if (file_exists($file)) {
    $loader = require $file;
}

if (!isset($loader)) {
    throw new \RuntimeException('Cannot find vendor/autoload.php');
}

use PhpDA\Service\AnalyzerFactory;
use PhpDA\Service\ApplicationFactory;
use PhpDA\Service\WriteAdapterFactory;

$appFactory = new ApplicationFactory(
    new AnalyzerFactory,
    new WriteAdapterFactory
);

$appFactory->create()->run();
